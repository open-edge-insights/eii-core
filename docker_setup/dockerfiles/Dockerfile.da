# Dockerfile for DataAgent
FROM golang:1.10.3
LABEL version="1.0"
LABEL description="DataAgent image"

ENV DIR /go/src/iapoc_elephanttrunkarch
WORKDIR ${DIR}

ADD DataAgent ./DataAgent
ADD StreamManager ./StreamManager
ADD Util ./Util

RUN mkdir -p ${DIR}/log && \
    cd DataAgent && \
    go get -v ./...

ENTRYPOINT DataAgent -config=DataAgent/DataAgent.conf -log_dir=${DIR}/log/DataAgent